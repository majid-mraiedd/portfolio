---
import Layout from '../layouts/Layout.astro';
import content from '../data/content.json';
import { Github, Twitter, Linkedin, Mail, ArrowUpRight, CheckCircle2, MessageCircle, Cpu, Brain, GraduationCap, Download, Search, ZoomIn, ZoomOut, Maximize2, X, FileText, Sun, Moon, Activity, ChevronLeft, ChevronRight, Info, AlertCircle } from 'lucide-astro';

const iconMap = {
  github: Github,
  twitter: Twitter,
  linkedin: Linkedin,
  email: Mail,
  whatsapp: MessageCircle
};

const { personal, hero, skills, seminars, education, builds, linkedin_posts, focus, deployment_note } = content;

const fixPath = (path) => {
  if (path.startsWith('http')) return path;
  const base = import.meta.env.BASE_URL.replace(/\/$/, '');
  return path.startsWith('/') ? `${base}${path}` : path;
};
---

<Layout title={`${personal.name} - ${personal.role}`}>
  <nav class="container nav-header animate-fade-in">
    <div class="logo">{personal.name}</div>
    <div class="header-right">
      <button id="theme-toggle" class="theme-btn" aria-label="Toggle Theme">
        <Sun size={20} class="sun-icon" />
        <Moon size={20} class="moon-icon" />
      </button>
      <a href={`mailto:${personal.email}`} class="header-cta" title={personal.email}>
        <Mail size={16} />
        <span>Get in touch</span>
      </a>
      <div class="socials">
        {personal.socials.map((social) => {
          const Icon = iconMap[social.icon as keyof typeof iconMap];
          return (
            <a href={social.url} target="_blank" rel="noopener noreferrer" aria-label={social.name}>
              {Icon ? <Icon size={24} /> : social.name}
            </a>
          );
        })}
      </div>
    </div>
  </nav>

  <main>
    <!-- Hero Section -->
    <section class="section hero container">
      <div class="hero-layout animate-fade-in delay-1">
        <div class="hero-text">
          <span class="badge">{hero.badge}</span>
          <h1>{hero.title} <br /> <span class="gradient-text">{hero.highlight}</span></h1>
          <p class="subtitle">{hero.description}</p>
          
          <!-- Hero Actions Grid: CV & Seminars -->
          <div class="hero-actions-grid animate-fade-in delay-2">
            <button id="open-cv" class="cv-card-premium">
              <div class="cv-card-glow"></div>
              <div class="cv-card-content">
                <div class="cv-visual-preview">
                  <div class="cv-page-mockup">
                    <div class="mock-header"></div>
                    <div class="mock-line title"></div>
                    <div class="mock-line"></div>
                    <div class="mock-line"></div>
                    <div class="mock-line short"></div>
                    <div class="mock-skills-grid">
                      <div class="mock-skill"></div>
                      <div class="mock-skill"></div>
                      <div class="mock-skill"></div>
                    </div>
                  </div>
                  <div class="cv-badge">
                    <FileText size={16} />
                    PDF
                  </div>
                </div>
                <div class="cv-card-text">
                  <h3>Curriculum Vitae (CV)</h3>
                  <p>AI & Systems Engineer</p>
                  <div class="cv-action-hint">
                    <Maximize2 size={16} />
                    <span>View Resume</span>
                  </div>
                </div>
              </div>
            </button>

            <button id="open-seminars" class="seminar-hero-card glass">
              <div class="seminar-hero-glow"></div>
              <div class="seminar-hero-content">
                <div class="seminar-hero-icon">
                  <MessageCircle size={24} />
                </div>
                <div class="seminar-hero-text">
                  <h3>Seminar Series</h3>
                  <p>Industry Insights Log</p>
                </div>
                <div class="seminar-hero-arrow">
                  <ArrowUpRight size={18} />
                </div>
              </div>
            </button>
          </div>

        </div>
        <div class="hero-image">
          <div class="avatar-wrapper">
            <img src={fixPath(personal.avatar)} alt={personal.name} class="avatar" />
            <div class="avatar-glow"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Dynamic Update Container -->
    <section class="section container">
      <div class="section-header animate-fade-in delay-2">
        <h2>Latest Updates</h2>
        <p>Key highlights from my professional journey and ongoing research.</p>
      </div>
      
      <div class="update-focus-wrapper animate-fade-in delay-3">
        <div class="posts-track" id="posts-track">
          {linkedin_posts.map((post, postIndex) => (
            <div class="update-card-single" data-post-index={postIndex}>
              {/* Internal Image Navigation stays inside */}
              <div class="card-visuals">
                <div class="post-image-carousel" data-images={JSON.stringify(post.images.map(fixPath))}>
                  {post.images && (
                    <>
                      <img src={fixPath(post.images[0])} alt="" class="blur-backdrop" aria-hidden="true" />
                      <img src={fixPath(post.images[0])} alt={post.title} loading="lazy" class="active-image main-photo" />
                      <div class="carousel-nav">
                        <button class="nav-arrow prev" aria-label="Previous image"><ChevronLeft size={18} /></button>
                        <button class="nav-arrow next" aria-label="Next image"><ChevronRight size={18} /></button>
                      </div>
                    </>
                  )}
                  {post.images && post.images.length > 1 && (
                    <div class="image-nav-dots">
                      {post.images.map((_, i) => <span class={i === 0 ? 'dot active' : 'dot'}></span>)}
                    </div>
                  )}
                </div>
                <div class="date-overlay">
                  <span class="post-date">{post.date}</span>
                </div>
              </div>
              <div class="card-content-area">
                <h3>{post.title}</h3>
                <p class="post-caption">{post.caption}</p>
                <div class="card-footer">
                  <a href={post.link} target="_blank" class="linkedin-cta">
                    <Linkedin size={18} />
                    <span>View Full Milestone</span>
                    <ArrowUpRight size={14} />
                  </a>
                </div>
              </div>
            </div>
          ))}
        </div>

        <div class="post-navigation-outer">
          <div class="nav-group prev">
            <button id="post-prev" class="outer-nav-btn" aria-label="Previous Milestone">
              <ChevronLeft size={28} />
            </button>
            <span class="nav-hint">PREVIOUS</span>
          </div>
          <div class="nav-group next">
            <button id="post-next" class="outer-nav-btn" aria-label="Next Milestone">
              <ChevronRight size={28} />
            </button>
            <span class="nav-hint">NEXT</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Builds Section -->
    <section id="builds" class="section container">
      <div class="section-header animate-fade-in delay-2">
        <div class="header-with-action">
          <div>
            <h2>Selected Builds</h2>
            <p>A showcase of my recent technical projects.</p>
          </div>
          <button id="open-deployment-help" class="help-trigger glass" aria-label="Project Access Help">
            <Info size={18} />
            <span>{deployment_note.button_text}</span>
          </button>
        </div>
      </div>
      
      <div class="builds-grid animate-fade-in delay-3">
        {builds.map((project) => (
          <article class="build-card glass">
            <div class="card-image">
              <img src={fixPath(project.image)} alt={project.title} loading="lazy" />
            </div>
            <div class="card-content">
              <div class="card-header">
                <h3>{project.title}</h3>
                <a href={project.link} target="_blank" class="icon-link">
                  <ArrowUpRight size={20} />
                </a>
              </div>
              <p>{project.description}</p>
              <div class="tags">
                {project.tags.map(tag => (
                  <span class="tag">{tag}</span>
                ))}
              </div>
            </div>
          </article>
        ))}
      </div>
    </section>

    <!-- Skills Section -->
    <section class="section container">
      <div class="section-header animate-fade-in delay-2">
        <h2>Expertise</h2>
        <p>The tools and technologies I use to bridge the physical and digital worlds.</p>
      </div>
      
      <div class="skills-grid animate-fade-in delay-3">
        {skills.map((group, index) => {
          const icons = [Cpu, Brain, GraduationCap];
          const CategoryIcon = icons[index % icons.length];
          
          return (
            <div class="skill-group glass">
              <div class="category-header">
                <div class="category-icon">
                  <CategoryIcon size={24} />
                </div>
                <h3>{group.category}</h3>
              </div>
              <ul class="skill-list">
                {group.items.map(skill => (
                  <li class="skill-item">
                    <span class="bullet"></span>
                    {skill}
                  </li>
                ))}
              </ul>
            </div>
          )
        })}
      </div>
    </section>





    <!-- Seminars Modal Full List -->
    <div id="seminar-modal" class="modal-overlay">
      <div class="modal-container glass seminar-modal-container">
        <div class="modal-header-bar">
          <div class="modal-title">
            <MessageCircle size={18} />
            <span>Seminar Series Logbook</span>
          </div>
          <button id="close-seminars" class="modal-close-tab">
            <X size={20} />
            <span>Close</span>
          </button>
        </div>
        <div class="modal-content seminar-list-content">
          <header class="modal-intro animate-fade-in">
            <h2>The Industry Learning Series</h2>
            <p>I have attended a variety of specialized seminars led by industry leaders from across Libya, hosted at Saraya Hamra University. These sessions have provided me with a diverse range of perspectives from various professional sectors on the current landscape of AI, Cybersecurity, and Software Engineering.</p>
          </header>

          <div class="seminars-grid-full">
            {seminars.map((seminar) => (
              <div class="seminar-card-full glass">
                <div class="card-date-badge">{seminar.date}</div>
                <h3>{seminar.topic}</h3>
                <div class="speaker-info">
                  <p class="speaker">{seminar.speaker}</p>
                  <span class="speaker-title">{seminar.speaker_title}</span>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>

    <!-- Education Section -->
    <section class="section container">
      <div class="section-header animate-fade-in delay-2">
        <h2>Education</h2>
        <p>My academic foundation and continuous learning journey.</p>
      </div>
      
      <div class="education-grid animate-fade-in delay-3">
        {education.map((edu) => (
          <div class="edu-card glass">
            <div class="edu-info">
              <h3>{edu.institution}</h3>
              <p class="degree">{edu.degree}</p>
              <p class="period">{edu.period}</p>
            </div>
            <p class="edu-desc">{edu.description}</p>
          </div>
        ))}
      </div>
    </section>

    <!-- About Section -->
    <section class="section container">
      <div class="about-card-wrapper animate-fade-in delay-2">
        <div class="about-card glass">
          <div class="about-glow"></div>
          <div class="about-header">
            <div class="about-icon">
              <Brain size={32} />
            </div>
            <h2>Behind the Code</h2>
          </div>
          <div class="about-body">
            <p>{personal.bio}</p>
          </div>
        </div>
      </div>
    </section>



    <footer class="container">
      <p>&copy; {new Date().getFullYear()} {personal.name}. All rights reserved.</p>
    </footer>

    <!-- CV Modal Viewer -->
    <div id="cv-modal" class="modal-overlay">
      <div class="modal-container glass">
        <div class="modal-header-bar">
          <div class="modal-title">
            <FileText size={18} />
            <span>Curriculum Vitae</span>
          </div>
          <button id="close-cv" class="modal-close-tab">
            <X size={20} />
            <span>Close</span>
          </button>
        </div>
        <div class="modal-content">
          <!-- CV Content / PDF Viewer -->
          <iframe src={fixPath(personal.cv)} class="cv-viewer-frame"></iframe>
        </div>
      </div>
    </div>

    <!-- Deployment Help Modal -->
    <div id="deployment-modal" class="modal-overlay">
      <div class="modal-container glass help-modal-container">
        <div class="modal-header-bar">
          <div class="modal-title">
            <Info size={18} />
            <span>Project Access Guide</span>
          </div>
          <button id="close-deployment-help" class="modal-close-tab">
            <X size={20} />
            <span>Close</span>
          </button>
        </div>
        <div class="modal-content help-modal-body">
          <div class="help-layout">
            <div class="help-text">
              <h2>{deployment_note.title}</h2>
              <p>{deployment_note.description}</p>
              <div class="warning-box">
                <AlertCircle size={24} />
                <p>{deployment_note.warning_text}</p>
              </div>
            </div>
            <div class="help-visual">
              <div class="screenshot-box glass">
                <img src={fixPath(deployment_note.image)} alt="Deployment Status Screenshot" class="help-screenshot" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</Layout>

<script>
  // UI Helper for Modals
  function setupModal(modalId, openBtnId, closeBtnId) {
    const modal = document.getElementById(modalId);
    const openBtn = document.getElementById(openBtnId);
    const closeBtn = document.getElementById(closeBtnId);

    openBtn?.addEventListener('click', () => {
      modal?.classList.add('active');
      document.body.style.overflow = 'hidden';
    });

    closeBtn?.addEventListener('click', () => {
      modal?.classList.remove('active');
      document.body.style.overflow = '';
    });

    modal?.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal?.classList.remove('active');
        document.body.style.overflow = '';
      }
    });
  }

  // Init Modals
  setupModal('cv-modal', 'open-cv', 'close-cv');
  setupModal('seminar-modal', 'open-seminars', 'close-seminars');
  setupModal('deployment-modal', 'open-deployment-help', 'close-deployment-help');

  // LinkedIn "Story" Mode Slideshow
  const track = document.getElementById('posts-track');
  const cards = document.querySelectorAll('.update-card-single');
  let currentPostIdx = 0;
  let currentImgIdx = 0;
  let slideshowTimer;

  function updateStoryDisplay() {
    // 1. Toggle active class for cards to trigger Fade/Scale transition
    cards.forEach((card, idx) => {
      card.classList.toggle('active-post', idx === currentPostIdx);
    });

    // 2. Update image within the active post
    const currentCard = cards[currentPostIdx];
    const images = JSON.parse(currentCard.querySelector('.post-image-carousel')?.getAttribute('data-images') || '[]');
    const mainImg = currentCard.querySelector('.main-photo');
    const blurImg = currentCard.querySelector('.blur-backdrop');
    const dots = currentCard.querySelectorAll('.dot');

    if (mainImg) {
      mainImg.style.opacity = '0';
      if (blurImg) blurImg.style.opacity = '0';
      
      setTimeout(() => {
        mainImg.src = images[currentImgIdx];
        if (blurImg) blurImg.src = images[currentImgIdx];
        
        mainImg.style.opacity = '1';
        if (blurImg) blurImg.style.opacity = '0.6';
      }, 300);
    }

    dots.forEach((dot, i) => {
      dot.classList.toggle('active', i === currentImgIdx);
    });
  }

  function nextStep() {
    const currentCard = cards[currentPostIdx];
    const images = JSON.parse(currentCard.querySelector('.post-image-carousel')?.getAttribute('data-images') || '[]');

    if (currentImgIdx < images.length - 1) {
      // Show next image in current post
      currentImgIdx++;
    } else {
      // Done with images in this post, move to next post
      currentImgIdx = 0;
      currentPostIdx = (currentPostIdx + 1) % cards.length;
    }
    updateStoryDisplay();
  }

  function prevStep() {
    if (currentImgIdx > 0) {
      currentImgIdx--;
    } else {
      // Go to previous post
      currentPostIdx = (currentPostIdx - 1 + cards.length) % cards.length;
      // Set to last image of the previous post
      const prevCard = cards[currentPostIdx];
      const prevImages = JSON.parse(prevCard.querySelector('.post-image-carousel')?.getAttribute('data-images') || '[]');
      currentImgIdx = prevImages.length - 1;
    }
    updateStoryDisplay();
  }

  function startSlideshow() {
    stopSlideshow();
    slideshowTimer = setInterval(nextStep, 5000);
  }

  function stopSlideshow() {
    if (slideshowTimer) clearInterval(slideshowTimer);
  }

  // Initial Boot
  if (cards.length > 0) {
    updateStoryDisplay();
    startSlideshow();
  }

  // Milestone Nav (Outer buttons)
  document.getElementById('post-next')?.addEventListener('click', () => {
    stopSlideshow();
    currentImgIdx = 0;
    currentPostIdx = (currentPostIdx + 1) % cards.length;
    updateStoryDisplay();
    startSlideshow();
  });

  document.getElementById('post-prev')?.addEventListener('click', () => {
    stopSlideshow();
    currentImgIdx = 0;
    currentPostIdx = (currentPostIdx - 1 + cards.length) % cards.length;
    updateStoryDisplay();
    startSlideshow();
  });

  // Image Nav (Inner arrows)
  document.querySelectorAll('.nav-arrow.next').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      stopSlideshow();
      nextStep();
      startSlideshow();
    });
  });

  document.querySelectorAll('.nav-arrow.prev').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      stopSlideshow();
      prevStep();
      startSlideshow();
    });
  });

  // Theme Toggle Logic
  const themeToggle = document.getElementById('theme-toggle');
  const doc = document.documentElement;

  // Set default or saved theme
  const savedTheme = localStorage.getItem('theme') || 'dark';
  doc.setAttribute('data-theme', savedTheme);

  themeToggle?.addEventListener('click', () => {
    const currentTheme = doc.getAttribute('data-theme');
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
    
    doc.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);
  });
</script>

<style>
  /* Header */
  .nav-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 1.5rem; /* Reduced from 3rem */
    padding-bottom: 1.5rem;
  }
  
  .logo {
    font-weight: 700;
    font-size: 1.5rem; /* Reduced from 1.75rem */
    letter-spacing: -0.04em;
    background: linear-gradient(to bottom right, #fff 50%, var(--text-muted));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .header-right {
    display: flex;
    align-items: center;
    gap: 2.5rem;
  }

  .header-cta {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text-muted);
    padding: 0.5rem 1rem;
    border-radius: 20px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: all 0.2s;
  }

  .header-cta:hover {
    color: var(--text-main);
    background: rgba(139, 92, 246, 0.1);
    border-color: rgba(139, 92, 246, 0.2);
  }

  /* Theme Toggle */
  .theme-btn {
    background: var(--surface);
    border: 1px solid var(--border);
    color: var(--text-muted);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
  }

  .theme-btn:hover {
    color: var(--primary);
    border-color: var(--primary);
    background: var(--primary-glow);
  }

  .sun-icon { display: none; }
  .moon-icon { display: block; }

  :root[data-theme="light"] .sun-icon { display: block; }
  :root[data-theme="light"] .moon-icon { display: none; }

  .socials {
    display: flex;
    gap: 1.5rem;
  }

  .socials a {
    transition: transform 0.2s ease, color 0.2s ease;
    color: var(--text-muted);
  }

  .socials a:hover {
    transform: scale(1.2);
    color: var(--text-main);
  }

  @media (max-width: 768px) {
    .nav-header {
      padding-top: 1rem;
      padding-bottom: 1rem;
    }
    .header-right {
      gap: 1.5rem;
    }
    .header-cta {
      display: none; /* Hide 'Available' badge in nav on mobile to save space */
    }
    .socials {
      gap: 1rem;
    }
  }

  /* Hero */
  .hero {
    min-height: 80vh; /* Reduced from 90vh */
    display: flex;
    align-items: center;
    padding: 2rem 0;
  }

  .hero-layout {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 2rem; /* Reduced from 4rem */
    width: 100%;
  }

  .hero-text {
    flex: 1;
  }

  .hero-image {
    flex: 0 0 auto;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .avatar-wrapper {
    position: relative;
    width: 380px; /* Increased from 280px */
    height: 380px;
  }

  .avatar {
    width: 100%;
    height: 100%;
    border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
    border: 3px solid var(--primary);
    box-shadow: 0 0 30px var(--primary-glow);
    object-fit: cover;
    position: relative;
    z-index: 2;
    background: var(--surface);
    animation: morph 8s ease-in-out infinite;
  }

  .avatar-glow {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 110%;
    height: 110%;
    background: radial-gradient(circle, var(--primary-glow) 0%, transparent 70%);
    z-index: 1;
    filter: blur(20px);
    opacity: 0.6;
  }

  :root[data-theme="light"] .avatar-glow {
    opacity: 0.3;
  }

  @keyframes morph {
    0% { border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; }
    50% { border-radius: 50% 50% 33% 67% / 55% 27% 73% 45%; }
    100% { border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; }
  }

  .hero h1 {
    font-size: 3.5rem; /* Reduced from 4.5rem for better fit */
    margin-bottom: 1rem; /* Reduced from 1.5rem */
    letter-spacing: -0.03em;
  }

  .subtitle {
    font-size: 1.1rem; /* Slightly smaller */
    color: var(--text-muted);
    max-width: 550px;
    margin-bottom: 1.5rem; /* Reduced from 2.5rem */
  }

  .badge {
    display: inline-block;
    padding: 0.3rem 1rem;
    background: var(--primary-glow);
    color: var(--primary);
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 800;
    margin-bottom: 1.5rem;
    border: 1px solid var(--primary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  :root[data-theme="dark"] .badge {
    color: #fff; 
    background: rgba(0, 0, 0, 0.3); /* Darker background for better legendability */
    border-color: var(--primary);
  }

  .cta-group {
    display: flex;
    gap: 1rem;
  }

  /* Builds Grid */
  .section-header {
    margin-bottom: 1.5rem; /* Reduced from 3rem */
  }

  .section-header h2 {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
  }

  .section-header p {
    color: var(--text-muted);
  }

  .builds-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
  }

  .build-card {
    border-radius: var(--radius-lg);
    overflow: hidden;
    transition: transform 0.3s ease, border-color 0.3s ease;
  }

  .build-card:hover {
    transform: translateY(-5px);
    border-color: rgba(255, 255, 255, 0.1);
  }

  .card-image {
    width: 100%;
    height: 240px;
    overflow: hidden;
  }

  .card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
  }

  .build-card:hover .card-image img {
    transform: scale(1.05);
  }

  .card-content {
    padding: 2rem;
  }

  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1rem;
  }

  .card-header h3 {
    font-size: 1.5rem;
    margin-bottom: 0;
  }

  .icon-link {
    padding: 0.5rem;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.05);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s;
  }

  .icon-link:hover {
    background: var(--text-main);
    color: var(--background);
  }

  .card-content p {
    color: var(--text-muted);
    margin-bottom: 1.5rem;
    line-height: 1.6;
  }

  .tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .tag {
    font-size: 0.875rem;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-muted);
  }

  /* CTA / Footer */
  .footer-cta {
    margin-top: 4rem;
    text-align: center;
  }

  .cta-box {
    padding: 4rem 2rem;
    border-radius: var(--radius-lg);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
  }

  footer {
    padding: 2rem 0;
    color: var(--text-muted);
    text-align: center;
    font-size: 0.875rem;
    border-top: 1px solid var(--border);
    margin-top: 4rem;
  }

  /* Hero Actions Grid: CV & Seminars */
  .hero-actions-grid {
    display: grid;
    grid-template-columns: 1.4fr 1fr; /* CV longer, Seminars shorter */
    gap: 1.25rem;
    margin-top: 2rem;
    width: 100%;
    max-width: 650px;
  }

  .cv-card-premium, .seminar-hero-card {
    position: relative;
    background: var(--surface);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-lg);
    box-shadow: var(--card-shadow);
    padding: 1.25rem;
    cursor: pointer;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    display: flex;
    text-align: left;
    width: 100%;
  }

  .cv-card-premium:hover, .seminar-hero-card:hover {
    transform: translateY(-5px) scale(1.02);
    border-color: var(--primary);
    background: rgba(var(--primary-rgb), 0.05);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
  }

  /* Shared Glow */
  .cv-card-glow, .seminar-hero-glow {
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, var(--primary-glow) 0%, transparent 70%);
    pointer-events: none;
    transition: opacity 0.3s;
    opacity: 0;
  }

  .cv-card-premium:hover .cv-card-glow,
  .seminar-hero-card:hover .seminar-hero-glow {
    opacity: 1;
  }

  .cv-card-content, .seminar-hero-content {
    display: flex;
    align-items: center;
    gap: 1.25rem;
    position: relative;
    z-index: 2;
    width: 100%;
  }

  .cv-visual-preview {
    position: relative;
    flex-shrink: 0;
  }

  .cv-page-mockup {
    width: 70px; /* Resized mockup */
    height: 90px;
    background: white;
    border-radius: 4px;
    padding: 0.75rem;
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
    box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.3);
  }

  .seminar-hero-icon {
    width: 50px;
    height: 50px;
    background: var(--primary-glow);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--primary);
    flex-shrink: 0;
  }

  .cv-card-text h3, .seminar-hero-text h3 {
    font-size: 1.1rem;
    margin-bottom: 0.25rem;
    color: var(--text-main);
  }

  .cv-card-text p, .seminar-hero-text p {
    font-size: 0.75rem;
    color: var(--text-muted);
    margin: 0;
    line-height: 1.2;
    font-weight: 500;
  }

  .cv-action-hint, .seminar-hero-arrow {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 0.5rem;
    color: var(--primary);
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    opacity: 0.8;
  }

  .seminar-hero-arrow {
    margin-left: auto;
    margin-top: 0;
  }

  .cv-badge {
    position: absolute;
    bottom: -5px;
    right: -5px;
    background: var(--primary);
    color: white;
    font-size: 0.65rem;
    padding: 2px 6px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    gap: 4px;
    font-weight: 700;
    z-index: 5;
  }

  /* Modal Specific Styles */
  .modal-intro {
    background: var(--surface-hover);
    padding: 2.5rem;
    border-radius: var(--radius-lg);
    border: 1px solid var(--glass-border);
    margin-bottom: 2.5rem;
    max-width: 100%;
    box-shadow: var(--card-shadow);
  }

  .modal-intro h2 {
    font-size: 1.75rem;
    margin-bottom: 1rem;
    color: var(--text-main);
  }

  .modal-intro p {
    font-size: 1.05rem;
    line-height: 1.8;
    color: var(--text-main);
    margin: 0;
  }

  @media (max-width: 600px) {
    .hero-actions-grid {
      grid-template-columns: 1fr;
    }
    .modal-intro {
      padding: 1.5rem;
    }
  }

  /* Simplified CV Modal */
  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85); /* Slightly less opaque */
    backdrop-filter: blur(15px);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s ease;
  }

  :root[data-theme="light"] .modal-overlay {
    background: rgba(0, 0, 0, 0.5); /* Much softer overlay in light mode */
  }

  .modal-overlay.active {
    opacity: 1;
    pointer-events: all;
  }

  .modal-container {
    width: 95%;
    max-width: 1100px;
    height: 90vh;
    border-radius: var(--radius-lg);
    position: relative;
    overflow: hidden;
    transform: scale(0.9);
    transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  .modal-overlay.active .modal-container {
    transform: scale(1);
  }

  .modal-header-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem 1.5rem;
    background: var(--surface); /* Theme aware */
    border-bottom: 1px solid var(--border);
    backdrop-filter: blur(10px);
    z-index: 1002;
    opacity: 0.95;
  }

  .modal-title {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--text-main);
  }

  .modal-close-tab {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.2);
    color: #ef4444;
    padding: 0.4rem 0.8rem;
    border-radius: 6px;
    font-size: 0.85rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
  }

  .modal-close-tab:hover {
    background: #ef4444;
    color: white;
  }

  .modal-content {
    width: 100%;
    height: calc(100% - 45px); /* Height minus header bar */
    background: #1a1a1a;
  }

  .cv-viewer-frame {
    width: 100%;
    height: 100%;
    border: none;
  }

  /* Skills Grid Redesign */
  .skills-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 2rem;
    margin-bottom: 2rem; /* Reduced from 4rem */
  }

  .skill-group {
    padding: 2.5rem;
    border-radius: var(--radius-lg);
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: all 0.3s ease;
  }

  .skill-group:hover {
    transform: translateY(-8px);
    border-color: var(--primary);
    background: rgba(139, 92, 246, 0.03);
  }

  .category-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .category-icon {
    width: 48px;
    height: 48px;
    background: var(--primary-glow);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--primary);
  }

  .skill-group h3 {
    margin-bottom: 0;
    font-size: 1.5rem;
    color: var(--text-main);
  }

  .skill-list {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .skill-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: var(--text-muted);
    font-size: 1.1rem;
    transition: color 0.2s;
  }

  .skill-group:hover .skill-item {
    color: var(--text-main);
  }

  .bullet {
    width: 6px;
    height: 6px;
    background: var(--primary);
    border-radius: 50%;
    box-shadow: 0 0 10px var(--primary-glow);
  }

  /* Education Grid */
  .education-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-bottom: 1rem; /* Reduced from 2rem */
  }

  /* About Section Redesign */
  .about-card-wrapper {
    position: relative;
    padding: 2rem 0;
  }

  .about-card {
    position: relative;
    padding: 4rem;
    border-radius: var(--radius-lg);
    background: var(--surface);
    border: 1px solid var(--glass-border);
    overflow: hidden;
    animation: float 6s ease-in-out infinite;
  }

  .about-glow {
    position: absolute;
    top: -20%;
    right: -10%;
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, var(--primary-glow) 0%, transparent 70%);
    opacity: 0.15;
    z-index: 0;
    pointer-events: none;
  }

  :root[data-theme="light"] .about-glow {
    opacity: 0.3;
  }

  .about-header {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    margin-bottom: 2.5rem;
    position: relative;
    z-index: 1;
  }

  .about-icon {
    width: 64px;
    height: 64px;
    background: var(--primary-glow);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--primary);
    box-shadow: 0 0 20px var(--primary-glow);
  }

  .about-card h2 {
    font-size: 2.5rem;
    margin: 0;
    background: linear-gradient(to right, var(--text-main), var(--primary));
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .about-body {
    position: relative;
    z-index: 1;
  }

  .about-body p {
    font-size: 1.25rem;
    line-height: 1.8;
    color: var(--text-main);
    max-width: 900px;
    font-weight: 400;
  }

  @keyframes float {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
    100% { transform: translateY(0px); }
  }

  /* Seminars Section */
  .seminars-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
  }

  .seminar-card {
    display: flex;
    gap: 1.5rem;
    padding: 1.5rem;
    border-radius: var(--radius-md);
    transition: all 0.3s ease;
  }

  .seminar-card:hover {
    background: rgba(139, 92, 246, 0.05);
    border-color: var(--primary);
    transform: translateX(5px);
  }

  .seminar-icon {
    flex-shrink: 0;
    width: 48px;
    height: 48px;
    background: rgba(139, 92, 246, 0.1);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--primary);
  }

  .seminar-content {
    flex: 1;
  }

  .seminar-date {
    display: block;
    font-size: 0.75rem;
    font-weight: 700;
    color: var(--primary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 0.5rem;
  }

  .seminar-content h3 {
    font-size: 1.25rem;
    margin-bottom: 0.25rem;
    color: var(--text-main);
  }

  .seminar-content .speaker {
    font-size: 1rem;
    color: var(--primary);
    font-weight: 600;
    margin: 0;
  }

  .speaker-info {
    display: flex;
    flex-direction: column;
    gap: 0.1rem;
    margin-top: 0.5rem;
  }

  .speaker-title {
    font-size: 0.85rem;
    color: var(--text-muted);
    font-weight: 400;
  }

  .edu-card {
    padding: 2rem;
    border-radius: var(--radius-lg);
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    transition: transform 0.3s ease;
  }

  .edu-card:hover {
    transform: translateY(-5px);
  }

  .edu-info h3 {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    color: var(--text-main);
  }

  .degree {
    color: var(--primary);
    font-weight: 600;
    margin-bottom: 0.25rem;
  }

  .period {
    font-size: 0.875rem;
    color: var(--text-muted);
  }

  .edu-desc {
    color: var(--text-muted);
    font-size: 1rem;
    line-height: 1.6;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .hero {
      min-height: auto;
      padding: 4rem 0;
    }
    .hero-layout {
      flex-direction: column-reverse;
      text-align: center;
      gap: 3rem;
    }
    .hero h1 {
      font-size: 2.75rem;
    }
    .subtitle {
      margin-left: auto;
      margin-right: auto;
    }
    .cta-group {
      justify-content: center;
    }
    .avatar-wrapper {
      width: 280px;
      height: 280px;
    }
    .hero-actions-grid {
      grid-template-columns: 1fr;
      margin-top: 2.5rem;
      max-width: 100%;
    }
  }

  @media (max-width: 480px) {
    .hero h1 {
      font-size: 2.25rem;
    }
    .avatar-wrapper {
      width: 220px;
      height: 220px;
    }
  }

  /* Deployment Help Section */
  .header-with-action {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    width: 100%;
    gap: 2rem;
  }

  .help-trigger {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1.5rem;
    border-radius: 12px;
    font-size: 0.95rem;
    font-weight: 800;
    border: 1px solid var(--primary);
    background: transparent;
    margin-bottom: 0.5rem;
    color: var(--primary);
  }

  :root[data-theme="light"] .help-trigger {
    background: rgba(197, 160, 89, 0.05);
    color: #85611f; /* Much darker gold for better contrast on Light */
    border-color: #85611f;
  }

  :root[data-theme="dark"] .help-trigger {
    color: #fff;
    background: rgba(0, 0, 0, 0.2);
    border-color: var(--primary);
  }

  .help-trigger:hover {
    transform: translateY(-2px);
    background: var(--primary-glow);
    border-color: var(--primary);
    color: #fff;
    box-shadow: 0 5px 20px var(--primary-glow);
  }

  .help-modal-container {
    max-width: 1200px; /* Expanded for better visibility */
    height: auto !important;
    max-height: 90vh;
  }

  .help-modal-body {
    padding: 3rem;
    overflow-y: auto;
  }

  .help-layout {
    display: grid;
    grid-template-columns: 1fr 1.5fr; /* Visual is now significantly larger */
    gap: 4rem;
    align-items: center;
  }

  .help-text h2 {
    font-size: 2.5rem; /* Larger, more impactful header */
    margin-bottom: 1.5rem;
    color: var(--text-main);
    line-height: 1.2;
  }

  .help-text p {
    font-size: 1.15rem;
    line-height: 1.8;
    color: var(--text-main); /* Deep contrast */
    margin-bottom: 2rem;
  }

  .warning-box {
    display: flex;
    gap: 1.25rem;
    padding: 1.5rem;
    background: rgba(180, 83, 9, 0.05);
    border: 1px solid rgba(180, 83, 9, 0.2);
    border-radius: 16px;
    color: #92400e; /* Darker Amber */
  }

  :root[data-theme="light"] .warning-box {
    background: #fffbef;
    border-color: #fde68a;
    color: #92400e; 
  }

  .warning-box p {
    margin: 0;
    font-size: 0.95rem;
    font-weight: 600;
    line-height: 1.5;
    color: inherit;
  }

  .help-visual {
    position: relative;
  }

  .screenshot-box {
    border-radius: 16px;
    overflow: hidden;
    border: 1px solid var(--glass-border);
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
  }

  .help-screenshot {
    width: 100%;
    display: block;
    transition: transform 0.5s;
  }

  .screenshot-box:hover .help-screenshot {
    transform: scale(1.05);
  }

  @media (max-width: 850px) {
    .help-layout {
      grid-template-columns: 1fr;
      gap: 2rem;
    }
    .help-modal-body {
      padding: 1.5rem;
    }
    .header-with-action {
      flex-direction: column;
      align-items: flex-start;
      gap: 1rem;
    }
  }


  /* Full Modal Grid */
  .seminar-modal-container {
    max-width: 1200px;
  }

  .seminar-list-content {
    padding: 3rem;
    overflow-y: auto !important;
  }

  .seminars-grid-full {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
  }

  .seminar-card-full {
    padding: 2rem;
    border-radius: var(--radius-md);
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    background: var(--surface);
    border: 1px solid var(--glass-border);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: var(--card-shadow);
  }

  .seminar-card-full:hover {
    border-color: var(--primary);
    background: var(--primary-glow);
    transform: translateY(-5px);
  }

  .card-date-badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    background: var(--primary-glow);
    color: var(--primary);
    font-size: 0.75rem;
    font-weight: 800;
    border-radius: 6px;
    width: fit-content;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .seminar-card-full h3 {
    font-size: 1.25rem;
    margin: 0;
    line-height: 1.4;
    color: var(--text-main);
    font-weight: 700;
  }

  .speaker-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    margin-top: auto;
  }

  .speaker {
    font-size: 1rem;
    color: var(--text-main);
    font-weight: 600;
    margin: 0;
  }

  .speaker-title {
    font-size: 0.8rem;
    color: var(--text-muted);
    font-weight: 500;
  }

  /* Focus Dashboard / Mission Control */
  .focus-dashboard {
    margin: 2rem 0;
    padding: 2rem;
    background: var(--surface);
    border: 1px solid var(--primary-glow);
    border-radius: var(--radius-lg);
    box-shadow: var(--card-shadow);
    position: relative;
    overflow: hidden;
  }

  .focus-header {
    margin-bottom: 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .status-indicator {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.8rem;
    font-weight: 800;
    color: var(--primary);
    text-transform: uppercase;
    letter-spacing: 0.15em;
  }

  .pulse {
    width: 10px;
    height: 10px;
    background: #22c55e;
    border-radius: 50%;
    box-shadow: 0 0 0 rgba(34, 197, 94, 0.4);
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); }
    70% { box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); }
    100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
  }

  .focus-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
  }

  .focus-item {
    display: flex;
    align-items: flex-start;
    gap: 1.25rem;
    padding: 1rem;
    background: var(--primary-glow);
    opacity: 0.9;
    border-radius: var(--radius-md);
    border: 1px solid transparent;
    transition: all 0.3s;
  }

  .focus-item:hover {
    border-color: var(--glass-border);
    background: var(--surface-hover);
  }

  .status-dot {
    width: 8px;
    height: 8px;
    margin-top: 8px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  .status-dot.active { background: #22c55e; box-shadow: 0 0 12px #22c55e; }
  .status-dot.in-progress { background: #eab308; box-shadow: 0 0 12px #eab308; }
  .status-dot.planned { background: #3b82f6; box-shadow: 0 0 12px #3b82f6; }

  .focus-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .focus-label {
    font-size: 0.7rem;
    text-transform: uppercase;
    color: var(--text-muted);
    font-weight: 800;
    letter-spacing: 0.05em;
  }

  .focus-task {
    font-size: 1rem;
    color: var(--text-main);
    font-weight: 600;
  }

  /* Focused Update Container */
  .update-focus-wrapper {
    display: block;
    padding: 0.5rem 1.5rem 1.5rem; /* Tightened top padding */
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
    position: relative;
  }

  .posts-track {
    display: grid; /* Stack posts on top of each other */
    grid-template-areas: "card";
    width: 100%;
    position: relative;
  }

  .update-card-single {
    grid-area: card;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: opacity 0.8s ease-in-out, transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    transform: scale(0.98);
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    box-shadow: var(--card-shadow);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    height: auto;
    max-height: 500px; /* Further reduced to fit title on screen */
    z-index: 1;
  }

  .update-card-single.active-post {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transform: scale(1);
    z-index: 2;
  }

  .post-navigation-outer {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100vw;
    max-width: 850px; /* Adjusted rail to stay proportionate with resized box */
    transform: translate(-50%, -50%);
    display: flex;
    justify-content: space-between;
    pointer-events: none;
    z-index: 100;
    padding: 0 1rem;
  }

  .outer-nav-btn {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: var(--surface);
    border: 1px solid var(--border);
    color: var(--text-muted);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    pointer-events: auto;
    box-shadow: var(--card-shadow);
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    background: var(--surface);
    position: relative;
    z-index: 2;
  }

  .nav-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    pointer-events: none;
  }

  .nav-hint {
    font-size: 0.6rem;
    font-weight: 800;
    color: var(--text-muted);
    letter-spacing: 0.15em;
    opacity: 0.5;
    transition: all 0.3s;
    text-transform: uppercase;
  }

  .nav-group:hover .nav-hint {
    opacity: 1;
    color: var(--primary);
    transform: translateY(2px);
  }

  .outer-nav-btn:hover {
    color: var(--primary);
    border-color: var(--primary);
    background: var(--surface);
    transform: scale(1.1) translateY(-2px);
  }

  @media (max-width: 768px) {
    .post-navigation-outer {
      position: relative;
      top: 0;
      left: 0;
      width: 100%;
      transform: none;
      margin-top: 2rem;
      justify-content: center;
      gap: 2rem;
      padding: 0;
    }
    .outer-nav-btn {
      width: 48px;
      height: 48px;
    }
    .nav-hint {
      display: none;
    }
    .update-focus-wrapper {
      padding: 0.5rem 1rem 1.5rem; /* Restored side padding for mobile */
    }
  }

  .card-visuals {
    position: relative;
    width: 100%;
    height: 250px; /* Reduced vertical footprint */
    background: #000;
  }

  .post-image-carousel {
    width: 100%;
    height: 100%;
    position: relative;
  }

  .post-image-carousel img.main-photo {
    width: 100%;
    height: 100%;
    object-fit: contain; /* Never cut off vertical or horizontal pics */
    position: relative;
    z-index: 2;
    transition: opacity 0.5s ease;
  }

  .blur-backdrop {
    position: absolute;
    top: -10%;
    left: -10%;
    width: 120%;
    height: 120%;
    object-fit: cover;
    filter: blur(20px) brightness(0.5);
    opacity: 0.6;
    z-index: 1;
    transition: opacity 0.5s ease;
  }

  /* Carousel Navigation Arrows */
  .carousel-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 100%;
    display: flex;
    justify-content: space-between;
    padding: 0 1rem;
    pointer-events: none;
    z-index: 10;
  }

  .nav-arrow {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    pointer-events: auto;
    backdrop-filter: blur(8px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    opacity: 0;
    transform: translateX(0);
  }

  .post-image-carousel:hover .nav-arrow {
    opacity: 1;
  }

  .nav-arrow.prev { transform: translateX(-10px); }
  .nav-arrow.next { transform: translateX(10px); }

  .post-image-carousel:hover .nav-arrow.prev { transform: translateX(0); }
  .post-image-carousel:hover .nav-arrow.next { transform: translateX(0); }

  .nav-arrow:hover {
    background: var(--primary);
    border-color: var(--primary);
    transform: scale(1.1) !important;
  }

  .date-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 1rem 1.5rem;
    background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
    z-index: 5;
    display: flex;
    justify-content: flex-end;
  }

  .post-date {
    font-size: 0.75rem;
    color: #fff;
    font-weight: 800;
    opacity: 0.9;
    background: rgba(0,0,0,0.5);
    padding: 0.3rem 0.6rem;
    border-radius: 4px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .image-nav-dots {
    position: absolute;
    bottom: 1rem;
    left: 1.5rem;
    display: flex;
    gap: 0.4rem;
    z-index: 10;
  }

  .dot {
    width: 5px;
    height: 5px;
    background: rgba(255, 255, 255, 0.4);
    border-radius: 50%;
    transition: all 0.3s;
  }

  .dot.active {
    background: var(--primary);
    width: 18px;
    border-radius: 4px;
  }

  .card-content-area {
    padding: 1.5rem 2rem;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    flex: 1;
  }

  .update-card-single h3 {
    font-size: 1.4rem;
    color: var(--text-main);
    line-height: 1.3;
    margin: 0;
    font-weight: 700;
  }

  .post-caption {
    font-size: 1rem;
    color: var(--text-muted);
    line-height: 1.6;
    margin: 0;
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden; /* Removed overflow-y: auto to fix 'cut' look */
  }

  .card-footer {
    margin-top: 0.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--border);
  }

  .linkedin-cta {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    color: var(--primary);
    font-weight: 700;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    transition: gap 0.2s;
  }

  .linkedin-cta:hover {
    gap: 1rem;
  }

  @media (max-width: 768px) {
    .update-card-single {
      max-height: none;
    }
    .card-visuals {
      height: 280px;
    }
    .card-content-area {
      padding: 1.5rem;
    }
    .about-card {
      padding: 2.5rem 1.5rem;
    }
    .about-header {
      flex-direction: column;
      text-align: center;
      gap: 1rem;
    }
    .about-card h2 {
      font-size: 2rem;
    }
    .about-body p {
      font-size: 1.1rem;
      text-align: center;
    }
  }
</style>
